---
import Card from '@components/card.astro';
import Day from '@components/day.astro';

import webdev from '@data/quicklinks/webdev.json';
import personal from '@data/quicklinks/personal.json';
import productivity from '@data/quicklinks/productivity.json';

import general from '@data/school/general.json';
import work from '@data/school/work.json';

import csci102 from '@data/classes/csci102.json';
import csci270 from '@data/classes/csci270.json';
import csci201 from '@data/classes/csci201.json';
import ee250 from '@data/classes/ee250.json';
import hbio205 from '@data/classes/hbio205.json';
import engr100 from '@data/classes/engr100.json';

const quicklinks = [["Web Dev", webdev], ["Personal", personal], ["Productivity", productivity]];

const school = [["General", general], ["Work", work]];

const mon = [[hbio205, "lecture"], [ee250, "lecture"], [csci201, "lab"], [csci270, "lecture"]];
const tues = [[csci102, "lab"], [csci201, "lecture"], [ee250, "lab"]];
const wed = [[hbio205, "lecture"], [ee250, "lecture"], [csci270, "lecture"]];
const thurs = [[csci102, "lab"], [csci201, "lecture"], [hbio205, "lab"]];
const fri = [[hbio205, "lecture", [csci270, "discussion"], [engr100, "lecture"]]];
---

<div class="content">
  <div class="left">
    <Card title="Quick Links" sections={quicklinks} />
  </div>
  <div class="right">
    <Card title="School" sections={school} />
    <div class="mon day">
      <Day title="Monday" classes={mon} />
    </div>
    <div class="tues day">
      <Day title="Tuesday" classes={tues} />
    </div>
    <div class="wed day">
      <Day title="Wednesday" classes={wed} />
    </div>
    <div class="thurs day">
      <Day title="Thursday" classes={thurs} />
    </div>
    <div class="fri day">
      <Day title="Friday" classes={fri} />
    </div>
  </div>
</div>

<style lang="scss">
  .content {
    display: flex;
    flex-flow: row wrap;
    gap: 32px;
  }

  .day {
    display: none;
  }

  .left,
  .right {
    flex: 1;
    min-width: 270px;

    display: flex;
    flex-direction: column;
    gap: 32px;
  }
</style>

<script>
  const show = (classname) => {
    const elements = document.getElementsByClassName(classname);
    for (let i = 0; i < elements.length; i++) {
      elements[i].style.display = "block";
    }
  };
  const setDisplay = (day) => {
    const days = ["mon", "tues", "wed", "thurs", "fri"];
    show(days[day - 1]);
  };

  let currDate = new Date();
  setDisplay(currDate.getDay());
</script>
